<div id="container-body" class="container">
<h2>Getting Started</h2>

<h3>Installation</h3>

<p>
    InsightJS depends upon <a target="_blank" href="https://github.com/mbostock/d3">d3.js</a> and <a
        target="_blank" href="https://github.com/square/crossfilter/">crossfilter</a>,
    which can be installed manually or by including the following CDNs in the head of your html page:</p>

<code class="language-markup">
    &lt;link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/insightjs/1.2.0/insight.min.css"&gt;

    &lt;script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.7/crossfilter.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/insightjs/1.2.0/insight.min.js"&gt;&lt;/script&gt;

</code>

<p>By the way, InsightJS has been designed to be compatible with <a target="_blank" href="http://requirejs.org/">RequireJS</a>.</p>

<h3>Objective</h3>

<p>We are going to create a chart to see how eye color is distributed in a given population. By the end of this guide we
    will have the chart below. </p>

<div id="chart" class="chart-centre"></div>


<h3>Importing a Data Set</h3>

<p>Before using the tools that InsightJS has to offer we will first need some data to analyse. </p>

<p>Below we have supplied some sample data containing the names, ages and eye colors of 12 different people.</p>

<code class="language-javascript">
    var data = [
        { "name": "Michelle Hopper", "age": 26, "eyeColor": "green" },
        { "name": "Cochran Mcfadden", "age": 22, "eyeColor": "green" },
        { "name": "Jessie Mckinney", "age": 23, "eyeColor": "brown" },
        { "name": "Rhoda Reyes", "age": 40, "eyeColor": "brown" },
        { "name": "Hawkins Wolf", "age": 26, "eyeColor": "green" },
        { "name": "Lynne O'neill", "age": 39, "eyeColor": "green" },
        { "name": "Twila Melendez", "age": 26, "eyeColor": "blue" },
        { "name": "Courtney Diaz", "age": 20, "eyeColor": "brown" },
        { "name": "Burton Beasley", "age": 36, "eyeColor": "green" },
        { "name": "Mccoy Gray", "age": 25, "eyeColor": "brown" },
        { "name": "Janie Benson", "age": 30, "eyeColor": "green" },
        { "name": "Cherie Wilder", "age": 30, "eyeColor": "green" }
    ];

</code>

<p>
    In order to chart this data, we will first need to create an InsightJS data set object.
    The data we use to initialise the data set should be an array of objects.
</p>

<code class="language-javascript">
    var dataset = new insight.DataSet(data);

</code>


<h3>Grouping Data</h3>

<p>
    If you look at the chart above, you will see that the data has been grouped by eye color. However, our data is not
    currently grouped. To do this we will generate an InsightJS grouping based upon the <code>eyeColor</code> property.
</p>

<p>
    In the code below,
    we have named the grouping <code>'eye-color'</code> and defined a function that groups the data.
    See <a target="_blank" href="InsightJS/dist/docs/insight.DataSet.html##self.group">insight.DataSet.group <span
        class="badge">API</span></a> for more details.
</p>
<code class="language-javascript">
    var eyeColorGrouping = dataset.group('eye-color', function(d) { return d.eyeColor; });

</code>


<h4>Understanding How Grouping Works</h4>

<p>Let's see what an InsightJS grouping actually looks like by calling <code>eyeColorGrouping.rawData()</code>.</p>
<code class="language-javascript">
    [
        { "key": "blue",  "value": { "Count": 1 } },
        { "key": "brown", "value": { "Count": 4 } },
        { "key": "green", "value": { "Count": 7 } }
    ]

</code>

<p>
    You might ask what the above actually means.
</p>

<ul>
    <li>The <code>key</code> property refers to the value the data set
        was grouped by.
    </li>
    <li>The <code>value</code> property is where the grouping stores all its aggregated values.</li>
</ul>

<p>
    By default, the <code>value</code> property will contain the
    number of records that match the <code>key</code>, but this is not all it can hold.
    In the <a href="#" class="disabled-link">Grouping <span class="badge">How To Guide</span></a>, we explore how aggregated values such
    as averages can be be calculated by an InsightJS grouping.
</p>

<h3>Creating a Chart</h3>

<p>
    Now that our data is grouped let's walk through the process of creating a simple chart.
</p>


<p>
    In the code below we initialise a chart object with a name and the id of the DOM element where we want to place the
    chart.
</p>

<code class="language-javascript">
    var chart = new insight.Chart('EyeColors', '#chart')
        .width(350)
        .height(350)
        .title('Number of People by Eye Color');

</code>

<p>
    We have also set the width, height and title of this chart in the code above. Without explicitly
    stating these settings the width and height will default to 300px and the chart will display no title.
</p>


<h4>Choosing the Axes</h4>

<p>
    Now, with the chart initialised we need to define some axes.

    The first decision we need to make is which scale to use for each of the axes. There are three options:
</p>
<ul>
    <li><a target="_blank" href="InsightJS/dist/docs/insight.scales.html#insight.scales.linear">insight.scales.linear
        <span class="badge">API</span></a></li>
    <li><a target="_blank" href="InsightJS/dist/docs/insight.scales.html#insight.scales.ordinal">insight.scales.ordinal
        <span class="badge">API</span></a></li>
    <li><a target="_blank" href="InsightJS/dist/docs/insight.scales.html#insight.scales.time">insight.scales.time <span
            class="badge">API</span></a></li>

</ul>
<p>
    In this chart, we are using an ordinal x axis for the eye colors and a linear y axis for the number of
    people with each eye color.
</p>

<p>
    We initialise each axis below with a title and the corresponding value from <code>insight.scales</code>.
</p>

<code class="language-javascript">
    var x = new insight.Axis('Eye Color', insight.scales.ordinal);
    var y = new insight.Axis('', insight.scales.linear);

</code>

<p>
    We have provided an <a href="#" class="disabled-link">Axis Styling <span class="badge">How To Guide</span></a>, to explain how to carry
    out more advanced customisations.
</p>

<p>
    With these axes created, we must not forget to associate them with the chart:
</p>

<code class="language-javascript">
    chart.xAxis(x);
    chart.yAxis(y);

</code>

<h4>Initialising a Chart Series</h4>

<p>
    At this point we have created a chart object and given it axes, but it does not yet know about the grouping object
    that we initialised earlier. By initialising a chart series, we can associate any data object array (including our
    grouping object) with a chart and choose how the data is displayed.
</p>

<p>
    For this chart, we will use an
    <a target="_blank" href="InsightJS/dist/docs/insight.ColumnSeries.html">insight.ColumnSeries <span
            class="badge">API</span></a>.
    In the code below we have called this series <code>'columns'</code> and provided it with the relevant grouping
    object and axes.
</p>

<code class="language-javascript">
    var columns = new insight.ColumnSeries('columns', eyeColorGrouping, x, y)
        .valueFunction(function(d){
            return d.value.Count;
        });

</code>

<p>
    The y value of a column series is given by
    <a target="_blank" href="InsightJS/dist/docs/insight.ColumnSeries.html##self.valueFunction">insight.ColumnSeries.valueFunction
        <span class="badge">API</span></a>. In this case we used the
    <code>value.Count</code> property
    to get the number of records for each group, based upon our grouping object.
</p>

<p>
    Now that we have our column series we need to associate it with the chart object:
</p>

<code class="language-javascript">
    chart.series([columns]);

</code>


<h4>Displaying the Chart</h4>

<p>
    Up until this point, if we had tried to view our chart on the page we would not have seen much at all.
    This is because we are missing the all important step of instructing InsightJS to draw the chart:
</p>

<code class="language-javascript">
    chart.draw();

</code>

<p>
    Congratulations, you have created your first chart!
</p>

<h3>Where next ...</h3>

<p>
   Now, that you have mastered the basics of creating charts you are ready to start making interesting
    discoveries about your own data with InsightJS.
</p>
<p>
   There's so much more than what we have been able to show you in this quick introduction. In order to use
    InsightJS to its full potential you should take a look at our:
</p>

<ul>
    <li><a class="disabled-link" href="#">How-to Guides</a></li>
    <li><a target="_blank" href="InsightJS/dist/docs/index.html">API Documentation</a></li>
    <li><a class="disabled-link" href="#">InsightJS Gallery</a></li>
</ul>
</div>


<div id="footer" class="container">
    <footer>Insight.js is an open source project created and maintained by <a target="_blank" href="//scottlogic.com">Scott
        Logic</a>
    </footer>
</div>